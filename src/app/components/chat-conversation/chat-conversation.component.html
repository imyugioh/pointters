<div
  *ngIf="item.users && item.users[0] && item.users[0]['firstName']"
  class="col-xs-12 col-md-12 padding-0 clickable conversation-item"
  (click)="startConversation(item.users && item.users[0])"
  [ngClass]="{ 'active-conversation': isActiveConversation }"
  [ngStyle]="{'margin-bottom': last ? '100px' : 'unset '}"
>

  <div
    class="col-xs-12 col-md-12 padding-15"
    [ngClass]="{ 'padding-left-0 padding-right-0': dropdownMode }"
    style="border-bottom:1px solid #e4e4e4;">

    <div class="padding-0 padding-top-3 text-left"
      [ngClass]="{'col-md-3 col-xs-3': !dropdownMode, 'col-md-2 col-xs-2': dropdownMode }"
    >
      <img [ngStyle]="{'opacity': item.countNewMessages > 0 ? 1 : 0 }" src="assets/images/icons/online1.png" class="border-radius-50-p margin-right-5" width="10px" height="10px" alt="">
      <img (error)="handleImageError()" src="{{((!imageError && item.users && item.users[0] && item.users[0]['profilePic']) || 'assets/images/icons/oval.png')}}" width="32px" height="32px" class="border-radius-50p" alt="">
    </div>

    <div class="padding-0"
      [ngClass]="{'col-md-7 col-xs-7': !dropdownMode, 'col-md-8 col-xs-8': dropdownMode }"
    >
      <p
      class="font-weight-600 margin-bottom-0"
      [ngClass]="{ 'color-text-black': item.countNewMessages === 0, 'color-blue': item.countNewMessages > 0 }"
      >
      {{item.users && item.users[0] && item.users[0].firstName}} {{item.users && item.users[0] && item.users[0].lastName}} {{(item.countNewMessages > 0) ? '(' + item.countNewMessages + ')' : ''}}
      </p>
      <div
        class="margin-bottom-0 font-em-09"
        [ngClass]="{ 'color-text-black font-weight-600': item.countNewMessages > 0, 'color-gray': item.countNewMessages === 0 }"
        [innerHtml]="((item.lastMessage && item.lastMessage.message && (item.lastMessage.message.length > 20 ? item.lastMessage.message.substr(0, 20) + '...' : item.lastMessage.message)) || 'No messages...') | emoji"
      >
      </div>
    </div>

    <div class="col-md-2 col-xs-2 padding-0">
      <p class="color-gray pull-right font-em-09 nowrap">{{item.lastMessage && item.lastMessage.time && moment(item.lastMessage.time).format('MMM Do')}}</p>
    </div>

  </div>

</div>
